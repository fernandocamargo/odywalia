{"ast":null,"code":"import _objectSpread from \"/Users/fernandocamargodelbuono/_dev/odywalia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/fernandocamargodelbuono/_dev/odywalia/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { useCallback, useState } from 'react';\nimport { getProfile, getError } from './helpers';\nimport { getInitialState, attempt, fail, succeed } from './state';\nexport default (() => {\n  const _useState = useState(getInitialState()),\n        _useState2 = _slicedToArray(_useState, 2),\n        state = _useState2[0],\n        setState = _useState2[1];\n\n  const fetch = useCallback(() => {\n    const success = new Date().getTime() % 2 === 0;\n    setState(attempt());\n    return new Promise((resolve, reject) => window.setTimeout(() => success ? resolve(getProfile()) : reject(getError()), 1000)).then(data => setState(succeed(data))).catch(error => setState(fail(error)));\n  }, []);\n  return _objectSpread({\n    fetch\n  }, state);\n});","map":{"version":3,"sources":["/Users/fernandocamargodelbuono/_dev/odywalia/src/hooks/services/profile/index.js"],"names":["useCallback","useState","getProfile","getError","getInitialState","attempt","fail","succeed","state","setState","fetch","success","Date","getTime","Promise","resolve","reject","window","setTimeout","then","data","catch","error"],"mappings":";;AAAA,SAASA,WAAT,EAAsBC,QAAtB,QAAsC,OAAtC;AAEA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,WAArC;AACA,SAASC,eAAT,EAA0BC,OAA1B,EAAmCC,IAAnC,EAAyCC,OAAzC,QAAwD,SAAxD;AAEA,gBAAe,MAAM;AAAA,oBACON,QAAQ,CAACG,eAAe,EAAhB,CADf;AAAA;AAAA,QACZI,KADY;AAAA,QACLC,QADK;;AAEnB,QAAMC,KAAK,GAAGV,WAAW,CAAC,MAAM;AAC9B,UAAMW,OAAO,GAAG,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,CAAvB,KAA6B,CAA7C;AAEAJ,IAAAA,QAAQ,CAACJ,OAAO,EAAR,CAAR;AAEA,WAAO,IAAIS,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KACjBC,MAAM,CAACC,UAAP,CACE,MAAOP,OAAO,GAAGI,OAAO,CAACb,UAAU,EAAX,CAAV,GAA2Bc,MAAM,CAACb,QAAQ,EAAT,CADjD,EAEE,IAFF,CADK,EAMJgB,IANI,CAMCC,IAAI,IAAIX,QAAQ,CAACF,OAAO,CAACa,IAAD,CAAR,CANjB,EAOJC,KAPI,CAOEC,KAAK,IAAIb,QAAQ,CAACH,IAAI,CAACgB,KAAD,CAAL,CAPnB,CAAP;AAQD,GAbwB,EAatB,EAbsB,CAAzB;AAeA;AAASZ,IAAAA;AAAT,KAAmBF,KAAnB;AACD,CAlBD","sourcesContent":["import { useCallback, useState } from 'react';\n\nimport { getProfile, getError } from './helpers';\nimport { getInitialState, attempt, fail, succeed } from './state';\n\nexport default () => {\n  const [state, setState] = useState(getInitialState());\n  const fetch = useCallback(() => {\n    const success = new Date().getTime() % 2 === 0;\n\n    setState(attempt());\n\n    return new Promise((resolve, reject) =>\n      window.setTimeout(\n        () => (success ? resolve(getProfile()) : reject(getError())),\n        1000\n      )\n    )\n      .then(data => setState(succeed(data)))\n      .catch(error => setState(fail(error)));\n  }, []);\n\n  return { fetch, ...state };\n};\n"]},"metadata":{},"sourceType":"module"}