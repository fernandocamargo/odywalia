{"ast":null,"code":"var _jsxFileName = \"/Users/fernandocamargodelbuono/_dev/odywalia/src/components/fields/checkbox/index.js\";\nimport castArray from 'lodash/castArray';\nimport isEqual from 'lodash/isEqual';\nimport React, { useCallback, useMemo } from 'react';\nimport { Checkbox as Input, FormControlLabel } from '@material-ui/core';\n\nconst Option = ({\n  label,\n  value,\n  isChecked\n}) => {\n  const checked = useMemo(() => isChecked(value), [isChecked, value]);\n  const onChange = useCallback(({\n    target: {\n      checked\n    }\n  }) => checked ? uncheck(value) : check(value), [value, check, uncheck]);\n  return /*#__PURE__*/React.createElement(FormControlLabel, {\n    control: /*#__PURE__*/React.createElement(Input, {\n      checked: checked,\n      onChange: onChange,\n      color: \"primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 16\n      }\n    }),\n    label: label,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 5\n    }\n  });\n};\n\nconst Checkbox = ({\n  value: defaultValue,\n  options,\n  onChange\n}) => {\n  const isChecked = useCallback(option => !!castArray(defaultValue).filter(item => isEqual(item, option)).length, [defaultValue]);\n  const check = useCallback(value => onChange(defaultValue.concat(value)), [defaultValue, onChange]);\n  const uncheck = useCallback(value => onChange(defaultValue.filter(item => isEqual(item, value))), [defaultValue, onChange]);\n  const renderOption = useCallback((item, index) => {\n    return /*#__PURE__*/React.createElement(Option, Object.assign({\n      key: index\n    }, item, {\n      isChecked: isChecked,\n      check: check,\n      uncheck: uncheck,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 9\n      }\n    }));\n  }, [isChecked, check, uncheck]);\n  return options ? options.map(renderOption) : null;\n};\n\nCheckbox.propTypes = {};\nCheckbox.defaultProps = {};\nexport default Checkbox;","map":{"version":3,"sources":["/Users/fernandocamargodelbuono/_dev/odywalia/src/components/fields/checkbox/index.js"],"names":["castArray","isEqual","React","useCallback","useMemo","Checkbox","Input","FormControlLabel","Option","label","value","isChecked","checked","onChange","target","uncheck","check","defaultValue","options","option","filter","item","length","concat","renderOption","index","map","propTypes","defaultProps"],"mappings":";AAAA,OAAOA,SAAP,MAAsB,kBAAtB;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,OAAOC,KAAP,IAAgBC,WAAhB,EAA6BC,OAA7B,QAA4C,OAA5C;AACA,SAASC,QAAQ,IAAIC,KAArB,EAA4BC,gBAA5B,QAAoD,mBAApD;;AAEA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA,KAAT;AAAgBC,EAAAA;AAAhB,CAAD,KAAiC;AAC9C,QAAMC,OAAO,GAAGR,OAAO,CAAC,MAAMO,SAAS,CAACD,KAAD,CAAhB,EAAyB,CAACC,SAAD,EAAYD,KAAZ,CAAzB,CAAvB;AACA,QAAMG,QAAQ,GAAGV,WAAW,CAC1B,CAAC;AAAEW,IAAAA,MAAM,EAAE;AAAEF,MAAAA;AAAF;AAAV,GAAD,KAA8BA,OAAO,GAAGG,OAAO,CAACL,KAAD,CAAV,GAAoBM,KAAK,CAACN,KAAD,CADpC,EAE1B,CAACA,KAAD,EAAQM,KAAR,EAAeD,OAAf,CAF0B,CAA5B;AAKA,sBACE,oBAAC,gBAAD;AACE,IAAA,OAAO,eAAE,oBAAC,KAAD;AAAO,MAAA,OAAO,EAAEH,OAAhB;AAAyB,MAAA,QAAQ,EAAEC,QAAnC;AAA6C,MAAA,KAAK,EAAC,SAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADX;AAEE,IAAA,KAAK,EAAEJ,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAMD,CAbD;;AAeA,MAAMJ,QAAQ,GAAG,CAAC;AAAEK,EAAAA,KAAK,EAAEO,YAAT;AAAuBC,EAAAA,OAAvB;AAAgCL,EAAAA;AAAhC,CAAD,KAAgD;AAC/D,QAAMF,SAAS,GAAGR,WAAW,CAC3BgB,MAAM,IACJ,CAAC,CAACnB,SAAS,CAACiB,YAAD,CAAT,CAAwBG,MAAxB,CAA+BC,IAAI,IAAIpB,OAAO,CAACoB,IAAD,EAAOF,MAAP,CAA9C,EAA8DG,MAFvC,EAG3B,CAACL,YAAD,CAH2B,CAA7B;AAKA,QAAMD,KAAK,GAAGb,WAAW,CAACO,KAAK,IAAIG,QAAQ,CAACI,YAAY,CAACM,MAAb,CAAoBb,KAApB,CAAD,CAAlB,EAAgD,CACvEO,YADuE,EAEvEJ,QAFuE,CAAhD,CAAzB;AAIA,QAAME,OAAO,GAAGZ,WAAW,CACzBO,KAAK,IAAIG,QAAQ,CAACI,YAAY,CAACG,MAAb,CAAoBC,IAAI,IAAIpB,OAAO,CAACoB,IAAD,EAAOX,KAAP,CAAnC,CAAD,CADQ,EAEzB,CAACO,YAAD,EAAeJ,QAAf,CAFyB,CAA3B;AAIA,QAAMW,YAAY,GAAGrB,WAAW,CAC9B,CAACkB,IAAD,EAAOI,KAAP,KAAiB;AACf,wBACE,oBAAC,MAAD;AACE,MAAA,GAAG,EAAEA;AADP,OAEMJ,IAFN;AAGE,MAAA,SAAS,EAAEV,SAHb;AAIE,MAAA,KAAK,EAAEK,KAJT;AAKE,MAAA,OAAO,EAAED,OALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADF;AASD,GAX6B,EAY9B,CAACJ,SAAD,EAAYK,KAAZ,EAAmBD,OAAnB,CAZ8B,CAAhC;AAeA,SAAOG,OAAO,GAAGA,OAAO,CAACQ,GAAR,CAAYF,YAAZ,CAAH,GAA+B,IAA7C;AACD,CA9BD;;AAgCAnB,QAAQ,CAACsB,SAAT,GAAqB,EAArB;AAEAtB,QAAQ,CAACuB,YAAT,GAAwB,EAAxB;AAEA,eAAevB,QAAf","sourcesContent":["import castArray from 'lodash/castArray';\nimport isEqual from 'lodash/isEqual';\nimport React, { useCallback, useMemo } from 'react';\nimport { Checkbox as Input, FormControlLabel } from '@material-ui/core';\n\nconst Option = ({ label, value, isChecked }) => {\n  const checked = useMemo(() => isChecked(value), [isChecked, value]);\n  const onChange = useCallback(\n    ({ target: { checked } }) => (checked ? uncheck(value) : check(value)),\n    [value, check, uncheck]\n  );\n\n  return (\n    <FormControlLabel\n      control={<Input checked={checked} onChange={onChange} color=\"primary\" />}\n      label={label}\n    />\n  );\n};\n\nconst Checkbox = ({ value: defaultValue, options, onChange }) => {\n  const isChecked = useCallback(\n    option =>\n      !!castArray(defaultValue).filter(item => isEqual(item, option)).length,\n    [defaultValue]\n  );\n  const check = useCallback(value => onChange(defaultValue.concat(value)), [\n    defaultValue,\n    onChange,\n  ]);\n  const uncheck = useCallback(\n    value => onChange(defaultValue.filter(item => isEqual(item, value))),\n    [defaultValue, onChange]\n  );\n  const renderOption = useCallback(\n    (item, index) => {\n      return (\n        <Option\n          key={index}\n          {...item}\n          isChecked={isChecked}\n          check={check}\n          uncheck={uncheck}\n        />\n      );\n    },\n    [isChecked, check, uncheck]\n  );\n\n  return options ? options.map(renderOption) : null;\n};\n\nCheckbox.propTypes = {};\n\nCheckbox.defaultProps = {};\n\nexport default Checkbox;\n"]},"metadata":{},"sourceType":"module"}